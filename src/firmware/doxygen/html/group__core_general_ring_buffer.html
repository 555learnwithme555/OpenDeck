<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenDeck: Ring buffer</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenDeck
   </div>
   <div id="projectbrief">DIY MIDI platform</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__core_general_ring_buffer.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Ring buffer<div class="ingroups"><a class="el" href="group__core_general.html">General</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Ultra lightweight ring buffer, for fast insertion/deletion.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for Ring buffer:</div>
<div class="dyncontent">
<center><table><tr><td><div class="center"><iframe scrolling="no" frameborder="0" src="group__core_general_ring_buffer.svg" width="234" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_ring_buff__t.html">RingBuff_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gacf1a805a0c6814d6d188a8484895cda4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__core_general_ring_buffer.html#gacf1a805a0c6814d6d188a8484895cda4">RingBuff_Data_t</a>&#160;&#160;&#160;uint8_t</td></tr>
<tr class="memdesc:gacf1a805a0c6814d6d188a8484895cda4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of data to store into the buffer.  <a href="#gacf1a805a0c6814d6d188a8484895cda4">More...</a><br /></td></tr>
<tr class="separator:gacf1a805a0c6814d6d188a8484895cda4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga779b513296068d2a6186659183ff3c2c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__core_general_ring_buffer.html#ga779b513296068d2a6186659183ff3c2c">RING_BUFFER_SIZE</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ga779b513296068d2a6186659183ff3c2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac7138106260c3e40b496566bddacf8f1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__core_general_ring_buffer.html#gac7138106260c3e40b496566bddacf8f1">RingBuff_Count_t</a>&#160;&#160;&#160;uint8_t</td></tr>
<tr class="separator:gac7138106260c3e40b496566bddacf8f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga20d41062e231d18e83f2ea662f92f39d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__core_general_ring_buffer.html#ga20d41062e231d18e83f2ea662f92f39d">RingBuffer_InitBuffer</a> (<a class="el" href="struct_ring_buff__t.html">RingBuff_t</a> *const Buffer)</td></tr>
<tr class="separator:ga20d41062e231d18e83f2ea662f92f39d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2d90be72a49bce397cad4aaa66c8582d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__core_general_ring_buffer.html#gac7138106260c3e40b496566bddacf8f1">RingBuff_Count_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__core_general_ring_buffer.html#ga2d90be72a49bce397cad4aaa66c8582d">RingBuffer_GetCount</a> (<a class="el" href="struct_ring_buff__t.html">RingBuff_t</a> *const Buffer)</td></tr>
<tr class="separator:ga2d90be72a49bce397cad4aaa66c8582d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9e71150bca61ef1ee5dfa277c014b849"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__core_general_ring_buffer.html#ga9e71150bca61ef1ee5dfa277c014b849">RingBuffer_IsFull</a> (<a class="el" href="struct_ring_buff__t.html">RingBuff_t</a> *const Buffer)</td></tr>
<tr class="separator:ga9e71150bca61ef1ee5dfa277c014b849"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga37dc4c79ccec9ff8f6d79be6b8b9d2ce"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__core_general_ring_buffer.html#ga37dc4c79ccec9ff8f6d79be6b8b9d2ce">RingBuffer_IsEmpty</a> (<a class="el" href="struct_ring_buff__t.html">RingBuff_t</a> *const Buffer)</td></tr>
<tr class="separator:ga37dc4c79ccec9ff8f6d79be6b8b9d2ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5c9625a7997eccc1f2ab7b6962903981"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__core_general_ring_buffer.html#ga5c9625a7997eccc1f2ab7b6962903981">RingBuffer_Insert</a> (<a class="el" href="struct_ring_buff__t.html">RingBuff_t</a> *const Buffer, const <a class="el" href="group__core_general_ring_buffer.html#gacf1a805a0c6814d6d188a8484895cda4">RingBuff_Data_t</a> Data)</td></tr>
<tr class="memdesc:ga5c9625a7997eccc1f2ab7b6962903981"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inserts an element into the ring buffer.  <a href="#ga5c9625a7997eccc1f2ab7b6962903981">More...</a><br /></td></tr>
<tr class="separator:ga5c9625a7997eccc1f2ab7b6962903981"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga06e57a62386e21eeb6ec155d8fbac40f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__core_general_ring_buffer.html#gacf1a805a0c6814d6d188a8484895cda4">RingBuff_Data_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__core_general_ring_buffer.html#ga06e57a62386e21eeb6ec155d8fbac40f">RingBuffer_Remove</a> (<a class="el" href="struct_ring_buff__t.html">RingBuff_t</a> *const Buffer)</td></tr>
<tr class="memdesc:ga06e57a62386e21eeb6ec155d8fbac40f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes an element from the ring buffer.  <a href="#ga06e57a62386e21eeb6ec155d8fbac40f">More...</a><br /></td></tr>
<tr class="separator:ga06e57a62386e21eeb6ec155d8fbac40f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Ultra lightweight ring buffer, for fast insertion/deletion. </p>
<p>This uses inlined functions for maximum speed. All buffers created with this library must be of the same size, however multiple independent buffers can be created. Note that for each buffer, insertion and removal operations may occur at the same time (via a multithreaded ISR based system) however the same kind of operation (two or more insertions or deletions) must not overlap. If there is possibility of two or more of the same kind of operating occurring at the same point in time, atomic (mutex) locking should be used. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga779b513296068d2a6186659183ff3c2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga779b513296068d2a6186659183ff3c2c">&sect;&nbsp;</a></span>RING_BUFFER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RING_BUFFER_SIZE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="_ring_buffer_8h_source.html#l00064">64</a> of file <a class="el" href="_ring_buffer_8h_source.html">RingBuffer.h</a>.</p>

</div>
</div>
<a id="gac7138106260c3e40b496566bddacf8f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac7138106260c3e40b496566bddacf8f1">&sect;&nbsp;</a></span>RingBuff_Count_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RingBuff_Count_t&#160;&#160;&#160;uint8_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Datatype which may be used to store the count of data stored in a buffer, retrieved via a call to <a class="el" href="group__core_general_ring_buffer.html#ga2d90be72a49bce397cad4aaa66c8582d">RingBuffer_GetCount()</a>. </p>

<p>Definition at line <a class="el" href="_ring_buffer_8h_source.html#l00072">72</a> of file <a class="el" href="_ring_buffer_8h_source.html">RingBuffer.h</a>.</p>

</div>
</div>
<a id="gacf1a805a0c6814d6d188a8484895cda4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacf1a805a0c6814d6d188a8484895cda4">&sect;&nbsp;</a></span>RingBuff_Data_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RingBuff_Data_t&#160;&#160;&#160;uint8_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of data to store into the buffer. </p>

<p>Definition at line <a class="el" href="_ring_buffer_8h_source.html#l00060">60</a> of file <a class="el" href="_ring_buffer_8h_source.html">RingBuffer.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga2d90be72a49bce397cad4aaa66c8582d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2d90be72a49bce397cad4aaa66c8582d">&sect;&nbsp;</a></span>RingBuffer_GetCount()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__core_general_ring_buffer.html#gac7138106260c3e40b496566bddacf8f1">RingBuff_Count_t</a> RingBuffer_GetCount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_ring_buff__t.html">RingBuff_t</a> *const&#160;</td>
          <td class="paramname"><em>Buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Retrieves the minimum number of bytes stored in a particular buffer. This value is computed by entering an atomic lock on the buffer while the IN and OUT locations are fetched, so that the buffer cannot be modified while the computation takes place. This value should be cached when reading out the contents of the buffer, so that as small a time as possible is spent in an atomic lock.</p>
<dl class="section note"><dt>Note</dt><dd>The value returned by this function is guaranteed to only be the minimum number of bytes stored in the given buffer; this value may change as other threads write new data and so the returned number should be used only to determine how many successive reads may safely be performed on the buffer.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Buffer</td><td>Pointer to a ring buffer structure whose count is to be computed. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_ring_buffer_8h_source.html#l00122">122</a> of file <a class="el" href="_ring_buffer_8h_source.html">RingBuffer.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;{</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="group__core_general_ring_buffer.html#gac7138106260c3e40b496566bddacf8f1">RingBuff_Count_t</a> Count;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="preprocessor">    #ifdef __AVR__</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    ATOMIC_BLOCK(ATOMIC_RESTORESTATE)</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        Count = Buffer-&gt;<a class="code" href="struct_ring_buff__t.html#a41a9ebbce17afd63c9b1052b9374ab7f">Count</a>;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    }</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="preprocessor">    #endif</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">return</span> Count;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;}</div><div class="ttc" id="group__core_general_ring_buffer_html_gac7138106260c3e40b496566bddacf8f1"><div class="ttname"><a href="group__core_general_ring_buffer.html#gac7138106260c3e40b496566bddacf8f1">RingBuff_Count_t</a></div><div class="ttdeci">#define RingBuff_Count_t</div><div class="ttdef"><b>Definition:</b> <a href="_ring_buffer_8h_source.html#l00072">RingBuffer.h:72</a></div></div>
<div class="ttc" id="struct_ring_buff__t_html_a41a9ebbce17afd63c9b1052b9374ab7f"><div class="ttname"><a href="struct_ring_buff__t.html#a41a9ebbce17afd63c9b1052b9374ab7f">RingBuff_t::Count</a></div><div class="ttdeci">RingBuff_Count_t Count</div><div class="ttdef"><b>Definition:</b> <a href="_ring_buffer_8h_source.html#l00086">RingBuffer.h:86</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga20d41062e231d18e83f2ea662f92f39d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga20d41062e231d18e83f2ea662f92f39d">&sect;&nbsp;</a></span>RingBuffer_InitBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void RingBuffer_InitBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_ring_buff__t.html">RingBuff_t</a> *const&#160;</td>
          <td class="paramname"><em>Buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initializes a ring buffer ready for use. Buffers must be initialized via this function before any operations are called upon them. Already initialized buffers may be reset by re-initializing them using this function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">Buffer</td><td>Pointer to a ring buffer structure to initialize. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_ring_buffer_8h_source.html#l00096">96</a> of file <a class="el" href="_ring_buffer_8h_source.html">RingBuffer.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;{</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="preprocessor">    #ifdef __AVR__</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    ATOMIC_BLOCK(ATOMIC_RESTORESTATE)</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    {</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        Buffer-&gt;<a class="code" href="struct_ring_buff__t.html#ace48fed7a87967d5de48671dcd356ac6">In</a>    = Buffer-&gt;<a class="code" href="struct_ring_buff__t.html#ad8546be1f6653413124bdfc9c941bc0d">Buffer</a>;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        Buffer-&gt;<a class="code" href="struct_ring_buff__t.html#adff6acf088e2c9697b9f19fb9ff91739">Out</a>   = Buffer-&gt;<a class="code" href="struct_ring_buff__t.html#ad8546be1f6653413124bdfc9c941bc0d">Buffer</a>;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        Buffer-&gt;<a class="code" href="struct_ring_buff__t.html#a41a9ebbce17afd63c9b1052b9374ab7f">Count</a> = 0;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="preprocessor">    #endif</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;}</div><div class="ttc" id="struct_ring_buff__t_html_ace48fed7a87967d5de48671dcd356ac6"><div class="ttname"><a href="struct_ring_buff__t.html#ace48fed7a87967d5de48671dcd356ac6">RingBuff_t::In</a></div><div class="ttdeci">RingBuff_Data_t * In</div><div class="ttdef"><b>Definition:</b> <a href="_ring_buffer_8h_source.html#l00084">RingBuffer.h:84</a></div></div>
<div class="ttc" id="struct_ring_buff__t_html_ad8546be1f6653413124bdfc9c941bc0d"><div class="ttname"><a href="struct_ring_buff__t.html#ad8546be1f6653413124bdfc9c941bc0d">RingBuff_t::Buffer</a></div><div class="ttdeci">RingBuff_Data_t Buffer[RING_BUFFER_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="_ring_buffer_8h_source.html#l00083">RingBuffer.h:83</a></div></div>
<div class="ttc" id="struct_ring_buff__t_html_adff6acf088e2c9697b9f19fb9ff91739"><div class="ttname"><a href="struct_ring_buff__t.html#adff6acf088e2c9697b9f19fb9ff91739">RingBuff_t::Out</a></div><div class="ttdeci">RingBuff_Data_t * Out</div><div class="ttdef"><b>Definition:</b> <a href="_ring_buffer_8h_source.html#l00085">RingBuffer.h:85</a></div></div>
<div class="ttc" id="struct_ring_buff__t_html_a41a9ebbce17afd63c9b1052b9374ab7f"><div class="ttname"><a href="struct_ring_buff__t.html#a41a9ebbce17afd63c9b1052b9374ab7f">RingBuff_t::Count</a></div><div class="ttdeci">RingBuff_Count_t Count</div><div class="ttdef"><b>Definition:</b> <a href="_ring_buffer_8h_source.html#l00086">RingBuffer.h:86</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga5c9625a7997eccc1f2ab7b6962903981"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5c9625a7997eccc1f2ab7b6962903981">&sect;&nbsp;</a></span>RingBuffer_Insert()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void RingBuffer_Insert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_ring_buff__t.html">RingBuff_t</a> *const&#160;</td>
          <td class="paramname"><em>Buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__core_general_ring_buffer.html#gacf1a805a0c6814d6d188a8484895cda4">RingBuff_Data_t</a>&#160;</td>
          <td class="paramname"><em>Data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Inserts an element into the ring buffer. </p>
<dl class="section note"><dt>Note</dt><dd>Only one execution thread (main program thread or an ISR) may insert into a single buffer otherwise data corruption may occur. Insertion and removal may occur from different execution threads.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">Buffer</td><td>Pointer to a ring buffer structure to insert into </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Data</td><td>Data element to insert into the buffer </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_ring_buffer_8h_source.html#l00178">178</a> of file <a class="el" href="_ring_buffer_8h_source.html">RingBuffer.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;{</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    *Buffer-&gt;<a class="code" href="struct_ring_buff__t.html#ace48fed7a87967d5de48671dcd356ac6">In</a> = Data;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">if</span> (++Buffer-&gt;<a class="code" href="struct_ring_buff__t.html#ace48fed7a87967d5de48671dcd356ac6">In</a> == &amp;Buffer-&gt;<a class="code" href="struct_ring_buff__t.html#ad8546be1f6653413124bdfc9c941bc0d">Buffer</a>[<a class="code" href="group__core_general_ring_buffer.html#ga779b513296068d2a6186659183ff3c2c">RING_BUFFER_SIZE</a>])</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        Buffer-&gt;<a class="code" href="struct_ring_buff__t.html#ace48fed7a87967d5de48671dcd356ac6">In</a> = Buffer-&gt;<a class="code" href="struct_ring_buff__t.html#ad8546be1f6653413124bdfc9c941bc0d">Buffer</a>;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="preprocessor">    #ifdef __AVR__</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    ATOMIC_BLOCK(ATOMIC_RESTORESTATE)</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    {</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        Buffer-&gt;<a class="code" href="struct_ring_buff__t.html#a41a9ebbce17afd63c9b1052b9374ab7f">Count</a>++;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    }</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="preprocessor">    #endif</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;}</div><div class="ttc" id="struct_ring_buff__t_html_ace48fed7a87967d5de48671dcd356ac6"><div class="ttname"><a href="struct_ring_buff__t.html#ace48fed7a87967d5de48671dcd356ac6">RingBuff_t::In</a></div><div class="ttdeci">RingBuff_Data_t * In</div><div class="ttdef"><b>Definition:</b> <a href="_ring_buffer_8h_source.html#l00084">RingBuffer.h:84</a></div></div>
<div class="ttc" id="struct_ring_buff__t_html_ad8546be1f6653413124bdfc9c941bc0d"><div class="ttname"><a href="struct_ring_buff__t.html#ad8546be1f6653413124bdfc9c941bc0d">RingBuff_t::Buffer</a></div><div class="ttdeci">RingBuff_Data_t Buffer[RING_BUFFER_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="_ring_buffer_8h_source.html#l00083">RingBuffer.h:83</a></div></div>
<div class="ttc" id="group__core_general_ring_buffer_html_ga779b513296068d2a6186659183ff3c2c"><div class="ttname"><a href="group__core_general_ring_buffer.html#ga779b513296068d2a6186659183ff3c2c">RING_BUFFER_SIZE</a></div><div class="ttdeci">#define RING_BUFFER_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="_ring_buffer_8h_source.html#l00064">RingBuffer.h:64</a></div></div>
<div class="ttc" id="struct_ring_buff__t_html_a41a9ebbce17afd63c9b1052b9374ab7f"><div class="ttname"><a href="struct_ring_buff__t.html#a41a9ebbce17afd63c9b1052b9374ab7f">RingBuff_t::Count</a></div><div class="ttdeci">RingBuff_Count_t Count</div><div class="ttdef"><b>Definition:</b> <a href="_ring_buffer_8h_source.html#l00086">RingBuffer.h:86</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga37dc4c79ccec9ff8f6d79be6b8b9d2ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga37dc4c79ccec9ff8f6d79be6b8b9d2ce">&sect;&nbsp;</a></span>RingBuffer_IsEmpty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool RingBuffer_IsEmpty </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_ring_buff__t.html">RingBuff_t</a> *const&#160;</td>
          <td class="paramname"><em>Buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Atomically determines if the specified ring buffer contains any data. This should be tested before removing data from the buffer, to ensure that the buffer does not underflow.</p>
<p>If the data is to be removed in a loop, store the total number of bytes stored in the buffer (via a call to the <a class="el" href="group__core_general_ring_buffer.html#ga2d90be72a49bce397cad4aaa66c8582d">RingBuffer_GetCount()</a> function) in a temporary variable to reduce the time spent in atomicity locks.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">Buffer</td><td>Pointer to a ring buffer structure to insert into.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Boolean true if the buffer contains no free space, false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="_ring_buffer_8h_source.html#l00163">163</a> of file <a class="el" href="_ring_buffer_8h_source.html">RingBuffer.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;{</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="group__core_general_ring_buffer.html#ga2d90be72a49bce397cad4aaa66c8582d">RingBuffer_GetCount</a>(Buffer) == 0);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div><div class="ttc" id="group__core_general_ring_buffer_html_ga2d90be72a49bce397cad4aaa66c8582d"><div class="ttname"><a href="group__core_general_ring_buffer.html#ga2d90be72a49bce397cad4aaa66c8582d">RingBuffer_GetCount</a></div><div class="ttdeci">static RingBuff_Count_t RingBuffer_GetCount(RingBuff_t *const Buffer)</div><div class="ttdef"><b>Definition:</b> <a href="_ring_buffer_8h_source.html#l00122">RingBuffer.h:122</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga9e71150bca61ef1ee5dfa277c014b849"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9e71150bca61ef1ee5dfa277c014b849">&sect;&nbsp;</a></span>RingBuffer_IsFull()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool RingBuffer_IsFull </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_ring_buff__t.html">RingBuff_t</a> *const&#160;</td>
          <td class="paramname"><em>Buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Atomically determines if the specified ring buffer contains any free space. This should be tested before storing data to the buffer, to ensure that no data is lost due to a buffer overrun.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">Buffer</td><td>Pointer to a ring buffer structure to insert into.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Boolean true if the buffer contains no free space, false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="_ring_buffer_8h_source.html#l00145">145</a> of file <a class="el" href="_ring_buffer_8h_source.html">RingBuffer.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;{</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="group__core_general_ring_buffer.html#ga2d90be72a49bce397cad4aaa66c8582d">RingBuffer_GetCount</a>(Buffer) == <a class="code" href="group__core_general_ring_buffer.html#ga779b513296068d2a6186659183ff3c2c">RING_BUFFER_SIZE</a>);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;}</div><div class="ttc" id="group__core_general_ring_buffer_html_ga779b513296068d2a6186659183ff3c2c"><div class="ttname"><a href="group__core_general_ring_buffer.html#ga779b513296068d2a6186659183ff3c2c">RING_BUFFER_SIZE</a></div><div class="ttdeci">#define RING_BUFFER_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="_ring_buffer_8h_source.html#l00064">RingBuffer.h:64</a></div></div>
<div class="ttc" id="group__core_general_ring_buffer_html_ga2d90be72a49bce397cad4aaa66c8582d"><div class="ttname"><a href="group__core_general_ring_buffer.html#ga2d90be72a49bce397cad4aaa66c8582d">RingBuffer_GetCount</a></div><div class="ttdeci">static RingBuff_Count_t RingBuffer_GetCount(RingBuff_t *const Buffer)</div><div class="ttdef"><b>Definition:</b> <a href="_ring_buffer_8h_source.html#l00122">RingBuffer.h:122</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga06e57a62386e21eeb6ec155d8fbac40f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga06e57a62386e21eeb6ec155d8fbac40f">&sect;&nbsp;</a></span>RingBuffer_Remove()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__core_general_ring_buffer.html#gacf1a805a0c6814d6d188a8484895cda4">RingBuff_Data_t</a> RingBuffer_Remove </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_ring_buff__t.html">RingBuff_t</a> *const&#160;</td>
          <td class="paramname"><em>Buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes an element from the ring buffer. </p>
<dl class="section note"><dt>Note</dt><dd>Only one execution thread (main program thread or an ISR) may remove from a single buffer otherwise data corruption may occur. Insertion and removal may occur from different execution threads.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">Buffer</td><td>Pointer to a ring buffer structure to retrieve from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Next data element stored in the buffer. </dd></dl>

<p>Definition at line <a class="el" href="_ring_buffer_8h_source.html#l00203">203</a> of file <a class="el" href="_ring_buffer_8h_source.html">RingBuffer.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;{</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="group__core_general_ring_buffer.html#gacf1a805a0c6814d6d188a8484895cda4">RingBuff_Data_t</a> Data = *Buffer-&gt;<a class="code" href="struct_ring_buff__t.html#adff6acf088e2c9697b9f19fb9ff91739">Out</a>;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">if</span> (++Buffer-&gt;<a class="code" href="struct_ring_buff__t.html#adff6acf088e2c9697b9f19fb9ff91739">Out</a> == &amp;Buffer-&gt;<a class="code" href="struct_ring_buff__t.html#ad8546be1f6653413124bdfc9c941bc0d">Buffer</a>[<a class="code" href="group__core_general_ring_buffer.html#ga779b513296068d2a6186659183ff3c2c">RING_BUFFER_SIZE</a>])</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        Buffer-&gt;<a class="code" href="struct_ring_buff__t.html#adff6acf088e2c9697b9f19fb9ff91739">Out</a> = Buffer-&gt;<a class="code" href="struct_ring_buff__t.html#ad8546be1f6653413124bdfc9c941bc0d">Buffer</a>;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="preprocessor">    #ifdef __AVR__</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    ATOMIC_BLOCK(ATOMIC_RESTORESTATE)</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        Buffer-&gt;<a class="code" href="struct_ring_buff__t.html#a41a9ebbce17afd63c9b1052b9374ab7f">Count</a>--;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    }</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="preprocessor">    #endif</span></div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">return</span> Data;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;}</div><div class="ttc" id="group__core_general_ring_buffer_html_gacf1a805a0c6814d6d188a8484895cda4"><div class="ttname"><a href="group__core_general_ring_buffer.html#gacf1a805a0c6814d6d188a8484895cda4">RingBuff_Data_t</a></div><div class="ttdeci">#define RingBuff_Data_t</div><div class="ttdoc">Type of data to store into the buffer. </div><div class="ttdef"><b>Definition:</b> <a href="_ring_buffer_8h_source.html#l00060">RingBuffer.h:60</a></div></div>
<div class="ttc" id="struct_ring_buff__t_html_ad8546be1f6653413124bdfc9c941bc0d"><div class="ttname"><a href="struct_ring_buff__t.html#ad8546be1f6653413124bdfc9c941bc0d">RingBuff_t::Buffer</a></div><div class="ttdeci">RingBuff_Data_t Buffer[RING_BUFFER_SIZE]</div><div class="ttdef"><b>Definition:</b> <a href="_ring_buffer_8h_source.html#l00083">RingBuffer.h:83</a></div></div>
<div class="ttc" id="group__core_general_ring_buffer_html_ga779b513296068d2a6186659183ff3c2c"><div class="ttname"><a href="group__core_general_ring_buffer.html#ga779b513296068d2a6186659183ff3c2c">RING_BUFFER_SIZE</a></div><div class="ttdeci">#define RING_BUFFER_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="_ring_buffer_8h_source.html#l00064">RingBuffer.h:64</a></div></div>
<div class="ttc" id="struct_ring_buff__t_html_adff6acf088e2c9697b9f19fb9ff91739"><div class="ttname"><a href="struct_ring_buff__t.html#adff6acf088e2c9697b9f19fb9ff91739">RingBuff_t::Out</a></div><div class="ttdeci">RingBuff_Data_t * Out</div><div class="ttdef"><b>Definition:</b> <a href="_ring_buffer_8h_source.html#l00085">RingBuffer.h:85</a></div></div>
<div class="ttc" id="struct_ring_buff__t_html_a41a9ebbce17afd63c9b1052b9374ab7f"><div class="ttname"><a href="struct_ring_buff__t.html#a41a9ebbce17afd63c9b1052b9374ab7f">RingBuff_t::Count</a></div><div class="ttdeci">RingBuff_Count_t Count</div><div class="ttdef"><b>Definition:</b> <a href="_ring_buffer_8h_source.html#l00086">RingBuffer.h:86</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sat Nov 25 2017 21:29:39 for OpenDeck by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.12 </li>
  </ul>
</div>
</body>
</html>
